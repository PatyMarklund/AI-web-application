{% extends 'base.html' %}
{% block title %}
Display result
{% endblock %}

{% block content %}
{% load static %}
    <div class="container-fluid bg-user-color text-center full-height">
        {% if is_user_logged_in %}
            <div class="button-container-top">
                <a href="{% url 'profile' %}" class="btn btn-outline-primary me-md-1 mt-2">My page</a>
                <button class="btn btn-outline-primary me-md-1 mt-2" onclick="history.back()"><i class="fas fa-arrow-circle-left"></i> Back</button>
                <a href="{% url 'user_logout' %}" class="btn btn-outline-primary me-md-1 mt-2"><i class="fas fa-sign-out"></i> Logout</a>
            </div>
        {% else %}
            <div class="button-container-top">
                <button class="btn btn-outline-primary me-md-1 mt-2" onclick="history.back()"><i class="fas fa-arrow-circle-left"></i> Back</button>
            </div>
        {% endif %}
        <h2> Explainability </h2>
        <p> In this page we will show the how and why we get the result of our predictions and the limitations the model has.</p>
        <div class="row">
            <div class="col-sm-5 container-1">
                <img  src="{% static 'images/Banana.jpg' %}" class="img-thumbnail" style="width: 400px; height: 400px; object-fit: contain;"/>
                <!--<img src="data:image/png;base64,{{ img_base64 }}" alt="Explainability Image"/>-->
            </div>
            <div class="col-sm-2 container-1">
                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th>Label</th>
                            <th>Probability</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for label, confidence in sorted_labels %}
                        <tr>
                            <td>{{ label }}</td>
                            <td>{{ confidence|floatformat:3 }} %</td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
            <div class="col-sm-5 container-1">
                <img  src="{% static 'images/Banana.jpg' %}" class="img-thumbnail" style="width: 400px; height: 400px; object-fit: contain;"/>
                <!--<img src="data:image/png;base64,{{ img_heatmap }}" alt="Explainability Image"/>-->
            </div>
        </div>
    </div> 

<style>
.container-1 {
    padding-top: 30px;
}

.button-container-top {
    text-align: right; 
    padding-left: 50px; 
    padding-right: 0px;
}

.button-container-top .btn.btn-outline-primary {
    width: 140px;
    background-color: white;
    color: black; 
    border-color: black; 
    /*font-family: "Sofia", sans-serif;*/
}

/* Hover state styling */
.button-container-top .btn.btn-outline-primary:hover {
    color: black; 
    background-color: #FFD700; 
    border-color: black; 
    font-weight: bold;
    /*font-family: "Sofia", sans-serif;*/
}
</style>

{% endblock %}